<!doctype html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Predictive Maintenance Dashboard</title>
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js"></script>
    <style>
      .kpi-card { min-height: 120px; }
      .card-title { font-size: .95rem; letter-spacing: .02em; }
      .card-value { font-size: 1.75rem; font-weight: 700; }
      @media (max-width: 576px) { .card-value { font-size: 1.4rem; } }
      .table-placeholder, .panel-placeholder { min-height: 260px; border: 1px dashed rgba(255,255,255,.15); }
    </style>
  </head>
  <body class="bg-dark text-light">

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-black border-bottom border-secondary">
      <div class="container-fluid">
        <a class="navbar-brand fw-semibold" href="#">Predictive Maintenance Dashboard</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navCollapse">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div id="navCollapse" class="collapse navbar-collapse">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link active" href="#">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="#equipmentTable">Equipment</a></li>
            <li class="nav-item"><a class="nav-link" href="#alertsPanel">Alerts</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container py-4">
      <!-- KPI Cards -->
      <div class="row g-3 mb-4">
        <div class="col-6 col-md-3">
          <div class="card kpi-card bg-secondary-subtle text-light h-100">
            <div class="card-body">
              <div class="card-title text-uppercase text-secondary-emphasis">Total Equipment</div>
              <div class="card-value" id="kpiTotal">—</div>
            </div>
          </div>
        </div>
        <div class="col-6 col-md-3">
          <div class="card kpi-card bg-success text-white h-100">
            <div class="card-body">
              <div class="card-title text-uppercase-50">Healthy</div>
              <div class="card-value" id="kpiHealthy">—</div>
            </div>
          </div>
        </div>
        <div class="col-6 col-md-3">
          <div class="card kpi-card bg-warning text-dark h-100">
            <div class="card-body">
              <div class="card-title text-uppercase">At Risk</div>
              <div class="card-value" id="kpiRisk">—</div>
            </div>
          </div>
        </div>
        <div class="col-6 col-md-3">
          <div class="card kpi-card bg-danger text-white h-100">
            <div class="card-body">
              <div class="card-title text-uppercase">Critical</div>
              <div class="card-value" id="kpiCritical">—</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Real-time Chart -->
      <div class="row g-3 mb-4">
        <div class="col-12">
          <div class="card h-100">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <h5 class="card-title mb-0">Real-time Temperature</h5>
              </div>
              <canvas id="temperatureChart" height="120"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Equipment Status & Alerts -->
      <div class="row g-3">
        <div class="col-12 col-lg-7">
          <div class="card h-100">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <h5 class="card-title mb-0">Equipment Status</h5>
              </div>
              <div id="equipmentTable" class="table-placeholder rounded-2"></div>
            </div>
          </div>
        </div>
        <div class="col-12 col-lg-5">
          <div class="card h-100">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <h5 class="card-title mb-0">Alerts</h5>
              </div>
              <div id="alertsPanel" class="panel-placeholder rounded-2 p-3"></div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Bootstrap Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Minimal Chart.js bootstrap (placeholder)
      document.addEventListener('DOMContentLoaded', () => {
        const ctx = document.getElementById('temperatureChart');
        if (!ctx) return;
        const chart = new Chart(ctx, {
          type: 'line',
          data: {
            labels: [],
            datasets: [{
              label: 'Temperature (°C)',
              data: [],
              borderColor: '#0d6efd',
              backgroundColor: 'rgba(13,110,253,.15)',
              tension: .25,
              pointRadius: 0
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              x: { ticks: { color: '#adb5bd' }, grid: { color: 'rgba(255,255,255,.08)' } },
              y: { ticks: { color: '#adb5bd' }, grid: { color: 'rgba(255,255,255,.08)' } }
            },
            plugins: { legend: { labels: { color: '#dee2e6' } } }
          }
        });

        // Demo: push synthetic points
        setInterval(() => {
          const ds = chart.data.datasets[0];
          const now = new Date();
          ds.data.push(60 + Math.random() * 10);
          chart.data.labels.push(now.toLocaleTimeString());
          if (ds.data.length > 50) { ds.data.shift(); chart.data.labels.shift(); }
          chart.update('quiet');
        }, 1500);
      });
    </script>
  </body>
  </html>


